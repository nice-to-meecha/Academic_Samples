<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>AddTodo.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">HW09</a> &gt; <a href="index.source.html" class="el_package">problem01.controller</a> &gt; <span class="el_source">AddTodo.java</span></div><h1>AddTodo.java</h1><pre class="source lang-java linenums">package problem01.controller;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.time.format.DateTimeParseException;
import java.util.List;
import java.util.Objects;
import problem01.Task;
import problem01.view.InvalidArgumentException;

/**
 * A task for adding a to-do item.
 */
public class AddTodo implements Task {

<span class="fc" id="L16">  private static final Integer MIN_PRIO = 1;</span>
<span class="fc" id="L17">  private static final Integer MAX_PRIO = 3;</span>

  private String todoText;
  private boolean completed;
  private String dueDate;
  private LocalDate dueLocalDate;
  private Integer priority;
  private String category;
  private Integer id;

  /**
   * Constructor for the class
   *
   * @param id - ID field of the Todo to be added
   */
<span class="fc" id="L32">  public AddTodo(Integer id) {</span>
<span class="fc" id="L33">    this.todoText = &quot;&quot;;</span>
<span class="fc" id="L34">    this.completed = false;</span>
<span class="fc" id="L35">    this.dueDate = null;</span>
<span class="fc" id="L36">    this.priority = null;</span>
<span class="fc" id="L37">    this.category = null;</span>
<span class="fc" id="L38">    this.dueLocalDate = null;</span>
<span class="fc" id="L39">    this.id = id;</span>
<span class="fc" id="L40">  }</span>

  /**
   * Sets the todoTest description field
   * @param todoText - the description of the Todo to be added
   */
  public void setTodoText(String todoText) {
<span class="fc" id="L47">    this.todoText = todoText;</span>
<span class="fc" id="L48">  }</span>

  /**
   * Sets the completed field
   * @param completed - the completed field
   */
  public void setCompleted(boolean completed) {
<span class="fc" id="L55">    this.completed = completed;</span>
<span class="fc" id="L56">  }</span>

  /**
   * Sets the dueDate field
   * @param dueDate - the dueDate field
   */
  public void setDueDate(String dueDate) {
<span class="fc" id="L63">    this.dueDate = dueDate;</span>
<span class="fc" id="L64">  }</span>

  /**
   * Sets the category field
   * @param category - the category field
   */
  public void setCategory(String category) {
<span class="fc" id="L71">    this.category = category;</span>
<span class="fc" id="L72">  }</span>

  /**
   * Sets the priority field
   * @param priority - the priority field
   */
  public void setPriority(Integer priority) {
<span class="fc" id="L79">    this.priority = priority;</span>
<span class="fc" id="L80">  }</span>

  /**
   * Returns the priority field
   * @return - the priority field
   */
  public Integer getPriority() {
<span class="fc" id="L87">    return this.priority;</span>
  }

  /**
   * Returns the category field
   * @return - the category field
   */
  public String getCategory() {
<span class="fc" id="L95">    return this.category;</span>
  }

  /**
   * Returns the todoText field
   * @return - the todoText field
   */
  public String getTodoText() {
<span class="fc" id="L103">    return this.todoText;</span>
  }

  /**
   * Returns the completed field
   * @return - the completed field
   */
  public boolean isCompleted() {
<span class="fc" id="L111">    return this.completed;</span>
  }

  /**
   * Returns the dueDate field
   * @return - due date of Todo
   */
  public String getDueDate() {
<span class="fc" id="L119">    return this.dueDate;</span>
  }

  /**
   * Returns the dueLocalDate field. This field is initially assigned to null, is set to a
   * proper LocalDate object after the string deuDate is converted to LocalDate in validateArgs()
   * @return - the dueLocalDate field
   */
  public LocalDate getDueLocalDate() {
<span class="fc" id="L128">    return this.dueLocalDate;</span>
  }

  /**
   * Returns the ID field
   * @return the ID field
   */
  public Integer getId() {
<span class="fc" id="L136">    return this.id;</span>
  }

  /**
   * Performs the current task, using the appropriate fields.
   * Adds a new Todo to a List of Todos passed in, returns the new updated List
   *
   * @param todoList list of Todos being managed
   * @return - list of Todos updated after current task performed
   */
  @Override
  public List&lt;Todo&gt; performTask(List&lt;Todo&gt; todoList) {
<span class="fc" id="L148">    Todo todo = new Todo(this.todoText, this.completed, this.dueLocalDate, this.priority, this.category,</span>
        this.id);
<span class="fc" id="L150">    todoList.add(todo);</span>
<span class="fc" id="L151">    return todoList;</span>
  }

  /**
   * Checks that the given arguments for the task are valid.
   * @throws InvalidArgumentException - Thrown if combination of args are invalid
   */
  @Override
  public void validateArgs(List&lt;Todo&gt; todoList) throws InvalidArgumentException {
<span class="fc bfc" id="L160" title="All 2 branches covered.">    if (this.dueDate!= null) {</span>
      try {
<span class="fc" id="L162">        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;M/d/yyyy&quot;);</span>
<span class="fc" id="L163">        this.dueLocalDate = LocalDate.parse(this.dueDate, formatter);</span>
<span class="fc" id="L164">      } catch (DateTimeParseException e) {</span>
<span class="fc" id="L165">        throw new InvalidArgumentException(&quot;For the provided due date, must be a valid date in the&quot;</span>
            + &quot;format mm/dd/yyyy&quot;);
<span class="fc" id="L167">      }</span>
    }

<span class="fc bfc" id="L170" title="All 2 branches covered.">    if (this.priority != null) {</span>
<span class="fc bfc" id="L171" title="All 4 branches covered.">      if (this.priority &lt; MIN_PRIO || this.priority &gt; MAX_PRIO) {</span>
<span class="fc" id="L172">        throw new InvalidArgumentException(&quot;Priority can only be se to 1, 2, or 3&quot;);</span>
      }
    }

<span class="fc bfc" id="L176" title="All 2 branches covered.">    if (this.todoText.equals(&quot;&quot;)) {</span>
<span class="fc" id="L177">      throw new InvalidArgumentException(&quot;--todo-text &lt;description of todo&gt; is required if --add-todo &quot;</span>
          + &quot;is provided&quot;);
    }
<span class="fc" id="L180">  }</span>

  /**
   * Overrides the default equals() method to compare param object to this object
   *
   * @param o - object for comparison
   * @return - whether the objects are equal or not
   */
  @Override
  public boolean equals(Object o) {
<span class="fc bfc" id="L190" title="All 2 branches covered.">    if (this == o) {</span>
<span class="fc" id="L191">      return true;</span>
    }
<span class="fc bfc" id="L193" title="All 4 branches covered.">    if (o == null || this.getClass() != o.getClass()) {</span>
<span class="fc" id="L194">      return false;</span>
    }
<span class="fc" id="L196">    AddTodo addTodo = (AddTodo) o;</span>
<span class="fc bfc" id="L197" title="All 2 branches covered.">    return this.completed == addTodo.completed &amp;&amp;</span>
<span class="fc bfc" id="L198" title="All 2 branches covered.">        Objects.equals(this.todoText, addTodo.todoText) &amp;&amp;</span>
<span class="fc bfc" id="L199" title="All 2 branches covered.">        Objects.equals(this.dueDate, addTodo.dueDate) &amp;&amp;</span>
<span class="fc bfc" id="L200" title="All 2 branches covered.">        Objects.equals(this.dueLocalDate, addTodo.dueLocalDate) &amp;&amp;</span>
<span class="fc bfc" id="L201" title="All 2 branches covered.">        Objects.equals(this.priority, addTodo.priority) &amp;&amp;</span>
<span class="fc bfc" id="L202" title="All 2 branches covered.">        Objects.equals(this.category, addTodo.category) &amp;&amp;</span>
<span class="fc bfc" id="L203" title="All 2 branches covered.">        Objects.equals(this.id, addTodo.id);</span>
  }

  /**
   * Overrides the default hashCode() method, returns the hashcode of the object
   *
   * @return - hashcode of the object
   */
  @Override
  public int hashCode() {
<span class="fc" id="L213">    return Objects.hash(this.todoText, this.completed, this.dueDate,</span>
        this.dueLocalDate, this.priority, this.category);
  }

  /**
   * Overrides the default toString() method, returns a string representation of the object
   *
   * @return - string representation of object
   */
  @Override
  public String toString() {
<span class="fc" id="L224">    return &quot;AddTodo{&quot; +</span>
        &quot;todoText='&quot; + this.todoText + '\'' +
        &quot;, completed=&quot; + this.completed +
        &quot;, dueDate='&quot; + this.dueDate + '\'' +
        &quot;, dueLocalDate=&quot; + this.dueLocalDate +
        &quot;, priority=&quot; + this.priority +
        &quot;, category='&quot; + this.category + '\'' +
        &quot;, ID=&quot; + this.id +
        '}';
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>